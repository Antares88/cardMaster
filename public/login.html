<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>회원로그인 페이지</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bignumber.js/bignumber.min.js"></script>
    <script>
        $(document).ready(function(){
            if (typeof window.web3 !== "undefined") {
             	web3js = new Web3(window.web3.currentProvider);
             	console.log("Connect to Mist/MetaMask");
                $("#connectLogText").text("Connect to Mist/MetaMask");
             } else {
//                web3js = new Web3(new Web3.providers.HttpProvider("http://localhost:9545"));
//                console.log("Connect to Localhost");
                $("#connectLogText").text("Connect to Geth Network....");
             }

             if(web3js === "undefined") {
                 $("#connectLogText").text("이더리움 네트워크에 접속하셔야합니다..");
                 console.log("이더리움 네트워크에 접속하셔야합니다....");
                 return false;
             }

            web3js.eth.getAccounts(function(error, result) {
                if (result.length) {
                    console.log(result);
                    $("#accountLogText").text("접속 account : " + result[0]);
                } else {
                    $("#accountLogText").text("접속 account 정보가 없습니다 MetaMask를 실행하여 주세요..");
                }
            });

        });
    </script>
</head>
<body>
    <div>
        - <span id="connectLogText"></span><br/>
        - <span id="accountLogText"></span><br/>
        <a href="/Mypage">마이페이지로 가기</a>
    </div>
</body>
</html>